<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, user-scalable=yes">
    <meta name="screen-orientation" content="portrait">
    <meta name="orientation" content="portrait">
    <meta name="theme-color" content="#b91c1c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Chaturvedi Classes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    
    <!-- SEO Meta Tags -->
    <title>Chaturvedi Classes - Learning Platform for 9th to 12th Students</title>
    <meta name="description" content="Chaturvedi Classes - Excellence in Education. Learning platform for 9th to 12th students with comprehensive study materials, NCERT books, quizzes, and AI-powered features.">
    <meta name="keywords" content="Chaturvedi Classes, education, learning platform, NCERT, 9th class, 10th class, 11th class, 12th class, online classes, study materials">
    <meta name="author" content="Chaturvedi Classes">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <link rel="canonical" href="https://chaturvediclasses.com/">
    

    <!-- Resource Hints for Performance -->
    <link rel="preconnect" href="https://unpkg.com" crossorigin>
    <link rel="dns-prefetch" href="https://unpkg.com">
    <link rel="preconnect" href="https://cdn.tailwindcss.com" crossorigin>
    <link rel="dns-prefetch" href="https://cdn.tailwindcss.com">
    <link rel="preconnect" href="https://www.gstatic.com" crossorigin>
    <link rel="dns-prefetch" href="https://www.gstatic.com">
    <link rel="manifest" href="manifest.json">
    <!-- Preload LCP Image -->
    <link rel="preload" href="img/logo.png" as="image" fetchpriority="high">
    <link rel="icon" type="image/png" sizes="192x192" href="img/logo.png">
    <link rel="icon" type="image/png" sizes="512x512" href="img/logo.png">

    <!-- Preload critical resources -->
    <link rel="preload" href="https://unpkg.com/react@18/umd/react.production.min.js" as="script" crossorigin>
    <link rel="preload" href="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" as="script" crossorigin>
    <link rel="preload" href="https://unpkg.com/@babel/standalone/babel.min.js" as="script" crossorigin>
    
    <!-- Google Fonts - Preload and use font-display swap -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Inline critical Tailwind utilities to prevent FOUC -->
    <style>
        /* Critical Tailwind utilities - inline to prevent FOUC */
        body{margin:0;font-family:Inter,sans-serif}
        .min-h-screen{min-height:100vh}
        .flex{display:flex}
        .items-center{align-items:center}
        .justify-center{justify-content:center}
        .bg-gradient-to-br{background-image:linear-gradient(to bottom right,var(--tw-gradient-stops))}
        .from-gray-50{--tw-gradient-from:#f9fafb;--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to,rgba(249,250,251,0))}
        .via-red-50{--tw-gradient-stops:var(--tw-gradient-from),#fef2f2,var(--tw-gradient-to,rgba(254,242,242,0))}
        .to-yellow-50{--tw-gradient-to:#fefce8}
        .px-4{padding-left:1rem;padding-right:1rem}
        .py-8{padding-top:2rem;padding-bottom:2rem}
        .w-full{width:100%}
        .max-w-md{max-width:28rem}
        .text-center{text-align:center}
        .mb-8{margin-bottom:2rem}
        .w-24{width:6rem}
        .h-24{height:6rem}
        .rounded-full{border-radius:9999px}
        .bg-white{background-color:#fff}
        .shadow-lg{box-shadow:0 10px 15px -3px rgba(0,0,0,0.1),0 4px 6px -4px rgba(0,0,0,0.1)}
        .p-1{padding:0.25rem}
        .object-contain{object-fit:contain}
        .text-3xl{font-size:1.875rem;line-height:2.25rem}
        .font-bold{font-weight:700}
        .text-red-900{color:#7f1d1d}
        .text-yellow-600{color:#ca8a04}
        .mb-2{margin-bottom:0.5rem}
        
        /* Custom styles */
        body {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        ::-webkit-scrollbar {
            display: none;
        }
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        
        /* Smooth screen transition animations - simplified for better performance */
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        .view-transition {
            width: 100%;
            min-height: 100vh;
            position: relative;
            animation: fadeIn 0.2s ease-out;
        }

        /* Smooth transitions for interactive elements - reduced complexity */
        button, a, input, select, textarea {
            transition: background-color 0.15s ease, color 0.15s ease, transform 0.1s ease;
        }

        /* Simple loading spinner */
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        .animate-spin {
            animation: spin 0.8s linear infinite;
        }

        /* Reduce motion for users who prefer it */
        @media (prefers-reduced-motion: reduce) {
            .view-transition {
                animation: none;
            }
            
            button, a, input, select, textarea {
                transition: none;
            }
            
            .animate-spin {
                animation: none;
            }
        }
    </style>
    
    <!-- Tailwind CSS - Load early to prevent FOUC -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Critical: Load React production builds (minified for performance) -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    <!-- Babel is needed to process the JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Firebase SDK - Deferred -->
    <script src="https://www.gstatic.com/firebasejs/12.6.0/firebase-app-compat.js" defer></script>
    <script src="https://www.gstatic.com/firebasejs/12.6.0/firebase-auth-compat.js" defer></script>
    <script src="https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore-compat.js" defer></script>
    <script src="https://www.gstatic.com/firebasejs/12.6.0/firebase-database-compat.js" defer></script>
    <script src="https://www.gstatic.com/firebasejs/12.6.0/firebase-messaging-compat.js" defer></script>

    <!-- Supabase SDK - Deferred -->
    <script src="https://unpkg.com/@supabase/supabase-js@2" defer></script>

    <!-- App Configuration and Logic - Deferred -->
    <script src="js/config.js" defer></script>
    <script src="js/utils.js" defer></script>
    <script type="text/babel" src="js/app.js" defer></script>
</head>

<body class="bg-gray-50 text-gray-900 select-none" oncontextmenu="return false;">
    <div id="root" role="main" aria-label="Chaturvedi Classes Application">
        <!-- Static Loading State - improved UI -->
        <div class="min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 via-red-50 to-yellow-50 px-4 py-8">
            <div class="w-full max-w-md text-center">
                <!-- Logo and Title Section -->
                <div class="flex justify-center mb-6">
                    <div class="w-20 h-20 flex items-center justify-center overflow-hidden bg-white rounded-full shadow-lg p-1.5">
                        <img src="img/logo.png" alt="Chaturvedi Classes Logo" class="w-full h-full object-contain" width="80" height="80" loading="eager" fetchpriority="high" />
                    </div>
                </div>
                <h1 class="text-2xl md:text-3xl font-bold text-red-900 mb-1">
                    Chaturvedi <span class="text-yellow-600">Classes</span>
                </h1>
                <p class="text-xs text-gray-500 font-medium">Excellence in Education</p>
                <!-- Simple loading indicator -->
                <div class="mt-6 flex justify-center">
                    <div class="w-8 h-8 border-3 border-red-200 border-t-red-600 rounded-full animate-spin"></div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Service Worker Registration - Deferred to end for better performance -->
    <script>
        // Register service worker after everything else loads
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                // Use requestIdleCallback if available, otherwise setTimeout
                const registerSW = function() {
                    navigator.serviceWorker.register('sw.js', { scope: '/' })
                        .then(function(registration) {
                            console.log('Service Worker registered successfully:', registration.scope);
                            
                            // Check for updates
                            registration.addEventListener('updatefound', function() {
                                const newWorker = registration.installing;
                                newWorker.addEventListener('statechange', function() {
                                    if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                        console.log('New service worker available');
                                        // Don't auto-reload, let user continue using the app
                                    }
                                });
                            });
                        })
                        .catch(function(error) {
                            console.log('Service Worker registration failed:', error);
                        });
                };
                
                if ('requestIdleCallback' in window) {
                    requestIdleCallback(registerSW, { timeout: 2000 });
                } else {
                    setTimeout(registerSW, 2000);
                }
                
                // Handle service worker updates
                let refreshing = false;
                navigator.serviceWorker.addEventListener('controllerchange', function() {
                    if (!refreshing) {
                        refreshing = true;
                        window.location.reload();
                    }
                });
            });
        }
    </script>
</body>

</html>
